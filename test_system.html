<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏</title>
</head>
<body>
    <h1>–¢–µ—Å—Ç —Å–∏—Å—Ç–µ–º—ã –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤–∞–ª—é—Ç</h1>
    <div id="result"></div>
    
    <script>
        // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã –≤–∞–ª—é—Ç (–∫–∞–∫ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏)
        let customRates = {
            'CAD': 1.35,  // CAD –∫ USD
            'EUR': 0.85,  // EUR –∫ USD
            'UAH': 41.0,  // UAH –∫ USD
            'RUB': 83.0   // RUB –∫ USD
        };
        
        async function testSystem() {
            const resultDiv = document.getElementById('result');
            let result = '<h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</h2><ul>';
            
            try {
                // –¢–µ—Å—Ç 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç
                console.log('üîÑ –¢–µ—Å—Ç 1: –ó–∞–≥—Ä—É–∑–∫–∞ –∫—É—Ä—Å–æ–≤ –≤–∞–ª—é—Ç...');
                const response = await fetch('https://api.exchangerate-api.com/v4/latest/USD');
                
                if (!response.ok) {
                    throw new Error(`HTTP ${response.status}`);
                }
                
                const data = await response.json();
                const rates = data.rates;
                
                if (rates) {
                    // –û–±–Ω–æ–≤–ª—è–µ–º –∫—É—Ä—Å—ã
                    if (rates.CAD) customRates.CAD = rates.CAD;
                    if (rates.EUR) customRates.EUR = rates.EUR;
                    if (rates.UAH) customRates.UAH = rates.UAH;
                    if (rates.RUB) customRates.RUB = rates.RUB;
                    
                    result += '<li>‚úÖ –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ</li>';
                    result += `<li>CAD: ${customRates.CAD}</li>`;
                    result += `<li>EUR: ${customRates.EUR}</li>`;
                    result += `<li>UAH: ${customRates.UAH}</li>`;
                    result += `<li>RUB: ${customRates.RUB}</li>`;
                } else {
                    result += '<li>‚ùå –ö—É—Ä—Å—ã –≤–∞–ª—é—Ç –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</li>';
                }
                
                // –¢–µ—Å—Ç 2: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CAD -> USD
                console.log('üîÑ –¢–µ—Å—Ç 2: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CAD -> USD...');
                const cadAmount = 100;
                const usdAmount = cadAmount / customRates.CAD;
                const convertedAmount = usdAmount * customRates.EUR;
                
                if (!isNaN(convertedAmount)) {
                    result += `<li>‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è CAD -> EUR: ${cadAmount} CAD = ${convertedAmount.toFixed(2)} EUR</li>`;
                } else {
                    result += '<li>‚ùå –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ CAD -> EUR</li>';
                }
                
                // –¢–µ—Å—Ç 3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è USD -> UAH
                console.log('üîÑ –¢–µ—Å—Ç 3: –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è USD -> UAH...');
                const usdAmount2 = 100;
                const uahAmount = usdAmount2 * customRates.UAH;
                
                if (!isNaN(uahAmount)) {
                    result += `<li>‚úÖ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è USD -> UAH: ${usdAmount2} USD = ${uahAmount.toFixed(2)} UAH</li>`;
                } else {
                    result += '<li>‚ùå –û—à–∏–±–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ USD -> UAH</li>';
                }
                
                result += '</ul>';
                resultDiv.innerHTML = result;
                
                console.log('‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã');
                
            } catch (error) {
                console.error('‚ùå –û—à–∏–±–∫–∞:', error.message);
                result += `<li>‚ùå –û—à–∏–±–∫–∞: ${error.message}</li></ul>`;
                resultDiv.innerHTML = result;
            }
        }
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Ç–µ—Å—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        testSystem();
    </script>
</body>
</html>
